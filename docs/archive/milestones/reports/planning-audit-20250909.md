# Planning Documents Audit Report

**Date**: 2025-09-09  
**Generated by**: Osiris Planning Consolidation Tool  
**Scope**: Milestones, ADRs, and Roadmap documents

## Executive Summary

This audit examined 14 milestone documents, 25 ADRs, and 2 roadmap documents to identify contradictions, drift, and opportunities for consolidation. The codebase shows strong architectural documentation but reveals several critical issues: **duplicate milestone documents** (M1c has 2 versions), **status drift** between milestones and ADRs, **missing cross-references** (new M1d milestone not linked from ADRs), and **scope confusion** between overlapping milestones. The primary recommendation is to merge the duplicate M1c documents, update statuses to reflect current reality, and establish proper cross-linking between M1d and ADR-0025.

The project has successfully completed M0 (foundation stabilization) and most of M1a (component registry), with M1c showing 90% completion on the Golden Path MySQL‚ÜíSupabase pipeline. However, documentation drift threatens to confuse contributors about actual project status.

## Document Inventory

### Milestones (14 documents)

| ID | File | Title | Status | Dependencies |
|----|------|-------|--------|--------------|
| Initial | _initial_plan.md | Initial Plan | Historical Reference | None |
| M0 | m0-discovery-cache.md | Discovery Cache Fingerprinting | ‚úÖ Complete | None |
| M0 | m0-session-logs.md | Session-scoped Logging | ‚úÖ Complete | None |
| M1 | m1-component-registry-and-runner.md | Component Registry and Runner | üîÑ In Progress | ADR-0005, 0006, 0007, 0008 |
| M1a.1 | m1a.1-component-spec-schema.md | Component Spec Schema | ‚úÖ Complete | None |
| M1a.2 | m1a.2-bootstrap-component-specs.md | Bootstrap Component Specs | ‚úÖ Complete | M1a.1 |
| M1a.3 | m1a.3-component-registry.md | Component Registry Implementation | ‚úÖ Complete | M1a.1, M1a.2 |
| M1a.4 | m1a.4-friendly-error-mapper.md | Friendly Error Mapper | ‚úÖ Complete | M1a.3 |
| M1b | m1b-context-builder-and-validation.md | Context Builder and Validation | ‚è≥ Not Started | M1a |
| M1c | m1c-compile-and-run-mvp.md | Compile and Run MVP | üîÑ Current State (90%) | M1a, M1b |
| M1c | m1c-thin-slice.md | Thin-Slice Compile and Run | ‚úÖ Completed (Thin-Slice) | None |
| M1d | m1d-logs-and-cli-unification.md | Logs & CLI Unification | Planned | M1c |

### ADRs (25 documents)

| ID | Title | Status | Related Milestones |
|----|-------|--------|-------------------|
| ADR-0001 | Logging Configuration | Accepted | M0 |
| ADR-0002 | Discovery Cache Fingerprinting | Accepted | M0 |
| ADR-0003 | Session-Scoped Logging | Accepted | M0 |
| ADR-0004 | Configuration Precedence Engine | Accepted | All |
| ADR-0005 | Component Specification and Registry | Accepted | M1, M1a |
| ADR-0006 | Pipeline Runner and Execution | Accepted | M1 |
| ADR-0007 | Component Specification and Capabilities | Accepted | M1 |
| ADR-0008 | Component Registry | Accepted | M1a.3 |
| ADR-0009 | Secrets Handling Strategy | Accepted | All |
| ADR-0010 | E2B Integration | Accepted | M3 |
| ADR-0011 | Osiris Roadmap | Proposed | All |
| ADR-0012 | Separate Extractors and Writers | Accepted | M1a.2 |
| ADR-0013 | Chat Retry Policy | Accepted | M1b |
| ADR-0014 | OML v0.1.0 Scope and Schema | Accepted | M1c |
| ADR-0015 | Compile Contract | Accepted | M1c |
| ADR-0016 | OML Scheduling Hints | Proposed | Future |
| ADR-0017 | Memory Store Abstraction | Proposed | Future |
| ADR-0018 | Agent Call Adapter | Proposed | Future |
| ADR-0019 | Chat State Machine | Accepted | M1c |
| ADR-0020 | Connection Resolution | Accepted | M1c |
| ADR-0021 | Component Health Check | Proposed | Future |
| ADR-0022 | Streaming IO and Spill | Proposed | M1d (preview) |
| ADR-0023 | Remote Object Store Writers | Proposed | M1d (preview) |
| ADR-0024 | Component Packaging | Proposed | Future |
| ADR-0025 | CLI UX Unification | Proposed | M1d |

### Roadmap Documents (2)

| File | Title | Focus |
|------|-------|-------|
| 0.x-initial-plan.md | Product Strategy & Implementation Brief | M0-M5 comprehensive plan |
| 0.x-m1c-ideas.md | M1c Compile and Run Ideas | M1c specific planning |

## Critical Findings

### 1. **ID/Name Collisions** (Severity: HIGH)
- **M1c Duplication**: Two milestone documents claim M1c:
  - `m1c-compile-and-run-mvp.md` - Shows 90% complete with current state
  - `m1c-thin-slice.md` - Shows "Completed (Thin-Slice)"
  - **Impact**: Confusion about actual M1c status and scope
  - **Location**: docs/milestones/

### 2. **Status Drift** (Severity: HIGH)
- **M1c Status Conflict**:
  - `m1c-thin-slice.md`: "Completed (Thin-Slice)"
  - `m1c-compile-and-run-mvp.md`: "90% complete" 
  - ADR-0011 roadmap: Shows M1 as future work
  - **Impact**: Team unclear on what's actually done

- **ADR-0011 Outdated**:
  - Shows M0 as incomplete, but M0 milestones show ‚úÖ Complete
  - Lists M1-M4 as future when M1a.1-M1a.4 are complete
  - **Impact**: Roadmap doesn't reflect actual progress

### 3. **Scope Drift** (Severity: MEDIUM)
- **M1 vs M1a Confusion**:
  - M1 (parent) shows "In Progress"
  - M1a.1-M1a.4 (children) all show "Complete"
  - No clear delineation of remaining M1 work
  - **Location**: m1-component-registry-and-runner.md vs m1a.* files

- **Connection Resolution Allocation**:
  - ADR-0020 puts it in M1c
  - m1c-thin-slice.md excludes connections
  - m1c-compile-and-run-mvp.md includes it
  - **Impact**: Unclear which milestone owns connection resolution

### 4. **Missing Cross-References** (Severity: HIGH)
- **M1d Not Referenced**:
  - New milestone `m1d-logs-and-cli-unification.md` exists
  - ADR-0025 (CLI UX Unification) doesn't reference M1d
  - Roadmap documents don't mention M1d
  - **Impact**: New work not integrated into planning

- **ADR-0020 Missing Links**:
  - Connection Resolution ADR not linked from M1c documents
  - M1c documents don't consistently reference ADR-0020
  - **Impact**: Connection feature ownership unclear

### 5. **Acceptance Criteria Incompleteness** (Severity: MEDIUM)
- **M1d Missing Measurables**:
  - Has goals but no quantifiable acceptance criteria
  - No test plan for HTML logs browser
  - **Location**: m1d-logs-and-cli-unification.md

- **M1b Partial Criteria**:
  - Shows checkboxes but many marked "Not Started"
  - No clear definition of "done"
  - **Location**: m1b-context-builder-and-validation.md

### 6. **CLI Naming Inconsistency** (Severity: LOW)
- **runs vs logs Commands**:
  - ADR-0025 mandates `logs` namespace
  - Some docs still reference `runs` commands
  - M1d correctly plans deprecation
  - **Impact**: Documentation inconsistency

## Proposed Adjustments

### 1. **Merge M1c Documents** (Rule #2: One owner per deliverable)
- **Action**: Merge `m1c-thin-slice.md` into `m1c-compile-and-run-mvp.md`
- **Target**: docs/milestones/m1c-compile-and-run-mvp.md
- **Rationale**: Single source of truth for M1c milestone
- **Content**: Keep thin-slice as a section showing MVP implementation

### 2. **Update Status Accuracy** (Rule #3: Stage correctness)
- **Action**: Update statuses across documents:
  - Mark M1c as "‚úÖ Complete (Golden Path)"
  - Update ADR-0011 to reflect M0 complete, M1a complete
  - Mark M1b as "Partially Complete" (context builder done)
- **Targets**: 
  - docs/milestones/m1c-compile-and-run-mvp.md
  - docs/adr/0011-osiris-roadmap.md
  - docs/milestones/m1b-context-builder-and-validation.md

### 3. **Add Cross-References** (Rule #1: Single source of truth)
- **Action**: Link M1d ‚Üî ADR-0025
  - Add to M1d: "Implements ADR-0025 decisions"
  - Add to ADR-0025: "Implementation tracked in Milestone M1d"
- **Action**: Link M1c ‚Üí ADR-0020
  - Add connection resolution as explicit M1c deliverable
- **Targets**:
  - docs/milestones/m1d-logs-and-cli-unification.md
  - docs/adr/0025-cli-ux-unification.md
  - docs/milestones/m1c-compile-and-run-mvp.md

### 4. **Rename for Consistency** (Rule #4: Naming & IDs)
- **Action**: Ensure all milestone files follow pattern
  - Already correct: m1d-logs-and-cli-unification.md
  - Consider: Rename m1-component-registry-and-runner.md to m1-overview.md
- **Target**: docs/milestones/

### 5. **Complete Acceptance Criteria** (Rule #3: Stage correctness)
- **Action**: Add measurable criteria to M1d:
  - "HTML browser loads in <2s"
  - "logs last --json returns valid schema"
  - "All runs commands show deprecation warning"
- **Target**: docs/milestones/m1d-logs-and-cli-unification.md

### 6. **Update Roadmap** (Rule #1: Single source of truth)
- **Action**: Update 0.x-initial-plan.md:
  - Mark M0 complete with version
  - Mark M1a complete
  - Add M1d to timeline
  - Update "Next Steps" section
- **Target**: docs/roadmap/0.x-initial-plan.md

### 7. **Deprecate Duplicate Content** (Rule #2: One owner per deliverable)
- **Action**: Mark m1c-thin-slice.md as archived
  - Add header: "ARCHIVED: Merged into m1c-compile-and-run-mvp.md"
  - Or move to docs/archive/
- **Target**: docs/milestones/m1c-thin-slice.md

## Impact & Next Steps

### Immediate Actions (PR #1)
1. **Merge M1c documents** - Combine thin-slice into main MVP doc
2. **Update all status fields** - Reflect actual completion state
3. **Add M1d ‚Üî ADR-0025 links** - Establish cross-references

### Follow-up Actions (PR #2)
1. **Update roadmap documents** - Reflect current progress
2. **Complete M1d acceptance criteria** - Add measurable goals
3. **Archive or delete duplicate content** - Clean up thin-slice doc

### Process Improvements
1. **Milestone template** - Enforce standard structure
2. **Status review** - Monthly audit of status fields
3. **Cross-reference validation** - CI check for ADR‚ÜîMilestone links

## Questions for Maintainers

### HIGH Priority (Blocking)
1. **M1c Scope**: Should `m1c-thin-slice.md` be archived or merged? It claims "Complete" but main M1c shows 90%.
2. **Connection Resolution**: Does M1c own connection resolution (per ADR-0020) or is it deferred to M1d?
3. **M1b Status**: Context builder shows "Not Started" but code exists. What's the actual status?

### MEDIUM Priority (Clarification)
1. **Manifest Utilities**: M1c mentions "skeleton" manifest utilities. Are these implemented or deferred?
2. **ADR-0011 Update**: Should the roadmap ADR be updated now or wait for M1d completion?
3. **Component Registry**: With M1a.1-M1a.4 complete, what remains for parent M1?

## Appendix: Document Extraction Notes

### Methodology
- Scanned 41 total documents (14 milestones, 25 ADRs, 2 roadmaps)
- Extracted: status, dependencies, deliverables, acceptance criteria
- Normalized status values: Planned/Proposed ‚Üí "Planned", Complete/Accepted ‚Üí "Complete"
- Identified links via regex patterns: ADR-XXXX, Milestone MX, docs/ paths

### Coverage Gaps
- Some ADRs lack explicit status (assumed "Proposed" when missing)
- Roadmap documents use different terminology than milestones
- Not all documents follow consistent date formats

### Validation Rules Applied
1. Single source of truth for design decisions
2. One owner per deliverable  
3. Stage correctness (complete milestones ‚Üí accepted ADRs)
4. Naming consistency (MX prefix for milestones, ADR-XXXX for ADRs)
5. CLI namespace consistency (run vs logs per ADR-0025)
6. Session ID immutability (labels as metadata only)
7. Backward compatibility documentation

---

*Generated by Osiris Planning Audit Tool v1.0*
