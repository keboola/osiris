[pytest]
markers =
    e2b: full E2B parity tests
    e2b_live: live E2B tests that hit the real provider
    e2b_smoke: fast E2B smoke tests for PRs
    parity: tests comparing Local vs E2B execution
    llm: LLM adapter/prompt tests (offline)
    slow: long-running tests
    cli: CLI contract tests
    unit: pure unit tests with no I/O
    integration: cross-module integration tests
    smoke: quick smoke tests for CI validation
    timeout: enforce per-test execution time limits in CI
    supabase: Supabase writer driver tests (offline mode)

testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Coverage settings
addopts =
    --strict-markers
    --tb=short
    -ra

# Ignore warnings from dependencies
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
